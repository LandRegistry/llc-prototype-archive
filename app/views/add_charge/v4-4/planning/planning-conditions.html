{% extends "layout.html" %} 
{% block page_title %} 
What type of planning charge?
{% endblock %} 
{% block content %}

<main id="content" role="main">
  <!-- alpha banner -->
  <div class="phase-banner">
    <p><strong class="phase-tag">BETA</strong></p>
  </div>
  <!-- main content starts -->

<!--   <div class="grid-row">
    <div class="column-two-thirds">
      <h1 class="heading-large">Land compensation </h1>

      <form action="document-link" method="GET">
        <fieldset>
          <legend class="visually-hidden form-label">Select land compensation law </legend>

          <div class="form-group">

            <label id="section84Label" class="block-label selection-button-radio" for="yesRef" data-target="referenceNumberForm1">
              <input id="yesRef" name="reference" type="radio" value="no" aria-controls="referenceNumberForm1">
              Section 8(4)
            </label>

            <label id="section52Label" class="block-label selection-button-radio no" for="noRef" data-target="referenceNumberForm2">
              <input id="noRef" name="reference" type="radio" value="yes">
              Section 52(8)
            </label>
          </div>

        </fieldset>

      </form>
      <p>
        <a class="button" id="landCompensationBtn" role="button" href="date-document-created">Continue</a>

      </p>

      <p id="back">
        <a href="type-of-charge" class="back-link">Back</a>
      </p>

    </div>

  </div> -->


  <div class="grid-row">
    <div class="column-two-thirds">

      <!-- <div class="error-summary" role="alert" aria-labelledby="error-summary-heading-example-1" tabindex="-1">

        <h1 class="heading-medium error-summary-heading" id="error-summary-heading-example-1">
          There are errors on this page
        </h1>

        <p>You must choose one option to continue  </p>

        <ul class="error-summary-list">
          <li><a href="#section84Label">Choose one option </a></li>
        </ul>
      </div> -->

      <h1 class="heading-large">What type of planning charge? </h1>
      
      <form action="#">

        <fieldset>
          <legend class="visually-hidden">What type of planning charge?</legend>
          
          <div class="form-group">
            <!-- Add class form-group-error when error occurs on the page -->
            <!-- <span class="error-message"> Choose one option   </span> -->

            <label id="condition-1-Label" class="block-label selection-button-radio" for="condition-1">

              <input id="condition-1" name="planningConditions" type="radio" value="condition-1">
              Conditional planning consent

            </label>

            <label id="condition-2-Label" class="block-label selection-button-radio" for="condition-2">
              <input id="condition-2" name="planningConditions" type="radio" value="Section 106 agreement">
              Section 106 agreement
            </label>

            <label id="condition-3-Label" class="block-label selection-button-radio" for="condition-3">
              <input id="condition-3" name="planningConditions" type="radio" value="Enforcement notice">
              Enforcement notice
            </label>

            <label id="condition-4-Label" class="block-label selection-button-radio" for="condition-4">
              <input id="condition-4" name="planningConditions" type="radio" value="Article 4 direction ">
              Article 4 direction 
            </label>

            <label id="condition-5-Label" class="block-label selection-button-radio" for="condition-5">
              <input id="condition-5" name="planningConditions" type="radio" value="Tree preservation order (TPO)">
              Tree preservation order (TPO) 
            </label>

            <label id="condition-6-Label" class="block-label selection-button-radio" for="condition-6">
              <input id="condition-6" name="planningConditions" type="radio" value="Section 52 agreement">
              Section 52 agreement 
            </label>

            <label id="otherLabel" class="block-label selection-button-radio" for="other" data-target="part-extent">
              <input id="other" name="planningLegislation" type="radio" value="Other" aria-controls="part-extent">
              Other planning charge
            </label>

          </div>

        </fieldset>

        <div class="js-hidden panel panel-border-narrow" id="part-extent" aria-hidden="true" style="display: none;">

          <div class="form-group">
          <label class="form-label" for="select-box">Describe other planning charge </label>
            
          </div>




          <div class="form-group">
            <fieldset class="inline">
              <legend class="visuallyhidden">Describe other planning charge</legend>
              <label class="form-label" for="planDesc">
              Describe other planning charge <span>(optional)</span>
              </label>
              <textarea class="form-control form-control-3-4" name="planDesc" id="planDesc" rows="5"></textarea>
            </fieldset>
          </div>
        </div>

        <p>
          <a class="button" id="land-compensation-btn" role="button" href="what-does-charge-do">Continue</a>

        </p>

        <p id="back">
          <a href="type-of-charge" class="back-link">Back</a>
        </p>
      </form>
    </div>
  </div>

</main>

<script>
  var landCompensation = sessionStorage.getItem('landCompensation');
  console.log(landCompensation);
  if (landCompensation === 'true') {
    var chargeTypeToChange = sessionStorage.getItem('chargeTypeToChange');
    if (chargeTypeToChange === 'Section8(4)') {
      document.getElementById('section84Label').classList.add('selected');
    } else if (chargeTypeToChange === 'Section 52(8)') {
      document.getElementById('section52Label').classList.add('selected');
    } 

    document.getElementById('land-compensation-btn').setAttribute('href', 'date-document-created');
    sessionStorage.setItem('chargeTypeUpdated', 'true');
  }

  document.getElementById('land-compensation-btn').onclick = function() {
    var section84Label = document.getElementById('section84Label');


    var section52Label = document.getElementById('section52Label');

    if (section84Label.classList.contains('selected')) {
      var chargeType = 'Section8(4)';
  // Section8(4) journey radio button clicked   
  document.getElementById('land-compensation-btn').setAttribute('href', 'lc-section8-4');

} else if (section52Label.classList.contains('selected')) {
  var chargeType = 'Section 52(8)';
  // Section 52(8) journey radio button clicked   
  document.getElementById('land-compensation-btn').setAttribute('href', 'lc-section52-8');

}

sessionStorage.setItem('chargeType', chargeType);
}
</script>


{% endblock %}