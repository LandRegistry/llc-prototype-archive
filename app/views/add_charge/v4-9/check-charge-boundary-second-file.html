{% extends "layout_map.html" %} {% block page_title %} Check the extent {% endblock %} {% block content %}


<!-- alpha banner -->
<div class="phase-banner map-phase-banner">
    <p><strong class="phase-tag">BETA</strong></p>
</div>
<!-- main content starts -->
<div id="map" style="width: 100%">
    <!-- map goes in here -->
</div>
<div id="search-panel">
    <a href="upload-shape-file-yes" class="link-back" style="margin-bottom:0">Back</a>
    <h1 class="heading-medium" style="margin-top:1em">Check the extent</h1>

    <!-- <div class="results-block">

        <p >You have uploaded 
            <strong"><span class="bold-small"> 2 </span> extent(s).</strong>
            <br>
            This extent is shown on the map. Use the map buttons if you need to change this extent. 
        </p>

        <div class="panel panel-border-narrow">
            <p>You have added 
                <strong class="bold-small"><span> 43 </span> </strong>        
                out of 500 possible extents.  
            </p>

        </div>
    </div> -->

    <div class="results-block">

        <div class="panel panel-border-narrow">
            <p>You have added<strong class="bold-small"><span> 8 </span> </strong> (polygons, points or lines) out of 500 possible extents.</p>
        </div>

        <p> This extent is shown on the map. Use the map buttons if you need to change this extent.
        </p>
    </div>

    <a id="extentContinue" class="button" href="more-information_2">Save and confirm extent</a>

    <br> <br>

    <ul class="list">
        <li><a href="upload-shape-file-yes">Upload another file</a></li>
        <li><a href="search-property">Start again</a></li>
    </ul>

    <!--     <div class="form-group">

                   <details role="group">

                     <summary role="button" aria-controls="details-content-0" aria-expanded="false"><span class="summary">Problems uploading an extent </span></summary>

                     <div class="panel panel-border-narrow" id="details-content-0" aria-hidden="true">

                        <ul class="list list-bullet">
                            <li><a href="upload-shape-file-yes">Upload a new file</a></li>
                            <li><a href="search-property">Start again and search by an address</a></li>           
                        </ul>

                    </div>
                </details>
            </div> -->

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<script>
    $(document).ready(function() {
        var closePanel = function() {
            $("#search-panel").animate({
                "margin-left": "-1000px"
            }, 100);
            $(".panel-control").removeClass("close");
            $(".panel-control").addClass("open-button");
            $(".panel-control img").attr("src", "{{ asset_path }}images/arrow_open.png");
        }

        var openPanel = function() {
            $("#search-panel").animate({
                "margin-left": "0"
            }, 100);
            $(".panel-control").removeClass("open-button");
            $(".panel-control").addClass("close");
            $(".panel-control img").attr("src", "{{ asset_path }}images/arrow_collapse.png");
        }

        $(".panel-control").click(function() {
            if ($(this).hasClass("close")) {
                closePanel();
            } else {
                openPanel();
            }
        });


        var postcodeSelected = sessionStorage.getItem('postcodeSelected');
        console.log(postcodeSelected);
        if (postcodeSelected !== null) {
            $('#searchedTermRetrieved').text(postcodeSelected);
        } else {
            var locationRetrieved = sessionStorage.getItem('location');
            var postcodeRetrieved = sessionStorage.getItem('postcodeSearched');
            $('#searchedTermRetrieved').text(locationRetrieved + ' ' + postcodeRetrieved);
        };


        var extentIsChanging = sessionStorage.getItem('extentIsChanging');
        if (extentIsChanging === 'true') {
            sessionStorage.setItem('extendUpdated', 'true');
            $('#extentContinue').attr('href', 'charge-summary');
        };


    });
</script>

{% endblock %} {% block body_end_additional %} {% include "includes/map_scripts.html" %}
<script src="/public/javascripts/map/search/llc_layer_styles.js"></script>
<script src="/public/javascripts/map/search/local_land_charges_layer.js"></script>
<script src="/public/javascripts/map/search/map_events.js"></script>
<script src="/public/javascripts/map/search/sample_data_1.js"></script>
<script src="/public/javascripts/map/search/search.js"></script>
<script>
    zoomslider = new ol.control.Zoom();
    map.addControl(zoomslider);
    var geometry = "{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;: [[291228.7125000001, 92032.63750000006], [291338.61250000016, 92055.2125000001]]}";
    MAP_HELPERS.zoom_map(geometry);
</script>
{% endblock %}