{% extends "layout_map.html" %} {% block page_title %} Search for a charge {% endblock %} {% block content %}
<style>
    @-moz-document url-prefix() {
        .search-button {
            position: relative;
            top: -5px;
        }
    }
</style>
<div class="map-page">
    <script>
        var maintainMapAddressSelected = sessionStorage.getItem("maintainMapAddress")
    </script>
    <main id="content" role="main" style="padding:0px">
        <div class="phase-banner-beta">
            <p>
                <strong class="phase-tag">BETA</strong>
                <span>This is a new service â€“ your <a href="../../feedback">feedback</a> will help us to improve it.</span>
            </p>
        </div>
        <div class="column-two-thirds">
            <h1 class="heading-large">Yo! Your javascript is off.</h1>
            <p>Turn it on and give us a call.</p>
        </div>
    </main>
    
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

{% endblock %} {% block body_end_additional %} {% include "includes/map_scripts.html" %}
<!-- <script src="/public/javascripts/map/search/llc_layer_styles.js"></script>
<script src="/public/javascripts/map/search/local_land_charges_layer.js"></script> -->
<!-- <script src="/public/javascripts/map/search/map_events.js"></script> -->
<!-- <script src="/public/javascripts/map/search/sample_data.js"></script> -->
<!-- <script src="/public/javascripts/map/search/search.js"></script> -->
<script src="/public/javascripts/map/search/llc_layer_styles.js"></script>
<!-- <script src="/public/javascripts/map/search/local_land_charges_layer.js"></script> -->
<!-- <script src="/public/javascripts/map/search/map_events.js"></script>
<script src="/public/javascripts/map/search/sample_data.js"></script>
<script src="/public/javascripts/map/search/search.js"></script> -->
<script>
    $('.point').remove();
    $('.line').remove();
    $('.remove').remove();
    zoomslider = new ol.control.Zoom();
    map.addControl(zoomslider);
    var geometry = "{{ geometry }}";
    MAP_HELPERS.zoom_map(geometry);
</script>
<script>
    $('#placeSearchButton').on('click', function() {
        if ($('#search_term').val() === 'EX41AX' || $('#search_term').val() === 'ex41ax' || $('#search_term').val() === 'EX4 1AX' || $('#search_term').val() === 'ex4 1ax') {
            $('#address-list-for-postcode-ex41ax').removeClass('hiddenList');
        } else if ($('#search_term').val() === 'Clinton ' || $('#search_term').val() === 'Clinton Street' || $('#search_term').val() === 'clinton ' || $('#search_term').val() === 'clinton street' || $('#search_term').val() === 'Clinton street' || $('#search_term').val() === 'clinton Street' || $('#search_term').val() === '3 clinton ' || $('#search_term').val() === '3 clinton street' || $('#search_term').val() === '3 Clinton Street' || $('#search_term').val() === '3 Clinton ' || $('#search_term').val() === '3 Clinton street' || $('#search_term').val() === '3 clinton Street') {
            $('#address-list-for-street-clinton-street').removeClass('hiddenList');
        } else if ($('#search_term').val() === 'EX24HN' || $('#search_term').val() === 'ex24hn' || $('#search_term').val() === 'EX2 4HN' || $('#search_term').val() === 'ex2 4hn') {
            $('#address-list-for-postcode-ex24hn').removeClass('hiddenList');
        } else if ($('#search_term').val() === 'Magdalen ' || $('#search_term').val() === 'Magdalen Street' || $('#search_term').val() === 'magdalen ' || $('#search_term').val() === 'magdalen street' || $('#search_term').val() === 'Magdalen street' || $('#search_term').val() === 'magdalen Street') {
            $('#address-list-for-street-magdalen-street').removeClass('hiddenList');
        }
        return false;
    });

    // EX4 1AX
    $('#address-list-for-postcode-ex41ax li a').on('click', function() {
        var geometry = "{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;: [[291228.7125000001, 92032.63750000006], [291338.61250000016, 92055.2125000001]]}";
        MAP_HELPERS.zoom_map(geometry);
        $('#address-list-for-postcode-ex41ax').addClass('hiddenList');
        $('.postSearchText').removeClass('hiddenList');
        $('.initialInstructionText').addClass('hiddenList');
        $('#continueButton').removeClass('hiddenList');
        $('.continueButton').attr('href', 'search-results-clinton-street');
    });

    // Clinton Street
    $('#address-list-for-street-clinton-street li a').on('click', function() {
        var geometry = "{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;: [[291228.7125000001, 92032.63750000006], [291338.61250000016, 92055.2125000001]]}";
        MAP_HELPERS.zoom_map(geometry);
        $('.postSearchText-2').removeClass('hiddenList');
        $('.initialInstructionText').addClass('hiddenList');
        $('#address-list-for-postcode-clinton-street').removeClass('hiddenList');
        $('#address-list-for-street-clinton-street').addClass('hiddenList');
        $('#continueButton').removeClass('hiddenList');
        $('.continueButton').attr('href', 'search-results-clinton-street');
    });

    // EX2 4HN
    $('#address-list-for-postcode-ex24hn li a').on('click', function() {
        var geometry = "{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;: [[292267, 92293], [292515, 92334]]}";
        MAP_HELPERS.zoom_map(geometry);
        $('#address-list-for-postcode-ex24hn').addClass('hiddenList');
        $('.postSearchText-3').removeClass('hiddenList');
        $('.initialInstructionText').addClass('hiddenList');
        $('#continueButton').removeClass('hiddenList');
        $('.continueButton').attr('href', 'search-results-magdalen-street');
    });

    // Magdalen Street
    $('#address-list-for-street-magdalen-street li a').on('click', function() {
        var geometry = "{&quot;type&quot;:&quot;LineString&quot;,&quot;coordinates&quot;: [[292267, 92293], [292515, 92334]]}";
        MAP_HELPERS.zoom_map(geometry);
        $('.postSearchText-4').removeClass('hiddenList');
        $('.initialInstructionText').addClass('hiddenList');
        $('#address-list-for-postcode-magdalen-street').removeClass('hiddenList');
        $('#address-list-for-street-magdalen-street').addClass('hiddenList');
        $('#continueButton').removeClass('hiddenList');
        $('.continueButton').attr('href', 'search-results-magdalen-street');
    });


    

    $('.propertyList-clinton-street li a').on('click', function() {
        $('#address-list-for-postcode-clinton-street').addClass('hiddenList');
        $('.postSearchText-2').addClass('hiddenList');
        $('.postSearchText').removeClass('hiddenList');
    });

    $('.propertyList-magdalen-street li a').on('click', function() {
        $('#address-list-for-postcode-magdalen-street').addClass('hiddenList');
        $('.postSearchText-4').addClass('hiddenList');
        $('.postSearchText-3').removeClass('hiddenList');
    });

    /*$('.map-button').click(function() {
        $('.continueButton').removeClass('disabled');
        $('.continueButton').removeClass('hiddenList');
        var clickedButton = $(this);
        $(clikedButton).click(function() {
            $(this).attr('id', '');
        });
    });*/

    /*$('.continueButton').click(function() {
        $(this).addClass('hiddenList');
        $('.postSearchText').addClass('hiddenList');
        $('.resultsList').removeClass('hiddenList');
        $('.searchGroup').css({
            'position': 'relative',
            'bottom': '1.5em'
        });
    });*/








    $('#mapButton').click(function() {
        var searchTerm = $('#search_term').val();
        sessionStorage.setItem('searchTerm', searchTerm);
    });





    // search by street
    //      display street options
    //      select street
    //          map zooms in to the street
    //          show the optional street numbers
</script>
{% endblock %}